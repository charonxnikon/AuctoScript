# MODELING-STOCHASTIC-MARKETS

Глобально есть 3 проекта: 

1. Серваная часть на Си
2. Интерпретатор на С++
3. Интерактивная часть на Python

# Сервер на Си
Стартовыми параметрами сервера являются число пользователей и номер TSP-порта и иногда файл типа .txt, содержащий данные <DATE>,<TIME>,<OPEN>,<HIGH>,<LOW>,<CLOSE>,<VOL>
без заголовков. Стартовые параметры задаются в командной строке программы-сервера.

После запуска программы, она должна открыть сокет в режиме ожидания запросов на соединение на заданном порту, дождаться подключения заданного количества пользователей, после чего запустить моделирование. Моделирование происходит до тех пор, пока все пользователи, кроме одно- го, по тем или иным причинам не покинут моделирование или пока в за- данном файле не закончатся строки, интерпретируемые как тики.

После запуска программы-сервера она должна открыть сокет в режиме ожидания запросов на соединение на заданном порту, дождаться подключения заданного количества игроков, после чего перейти в режим моделирования, в котором и оставаться до момента, когда все игроки, кроме одного, но тем или иным причинам не выйдут из моделирования

Сервер не должен использовать активное ожидание и бязан корректно обрабатывать потерю соединения с любым из пользователей

Команды на сервере: 

<img width="791" alt="Снимок экрана 2023-12-21 в 03 36 37" src="https://github.com/charonxnikon/MODELING_STOCHASTIC_MARKETS/assets/73964925/12ec25ae-e468-427a-bbcf-44a631e2f651">


количество пользователей (макс), IP(0, если localhost), запуск только с 3 параметрами

Следует учитывать при запуске, что в большинстве операционных систем порты с номерами от 1 до 1023 считаются привилегированными. Тогда использовать их могут только процессы, обладающие правами суперпользователя.

Для протоколирования покупок и продаж, производимых на сервере, необходимо из структуры игроков записывать на каждом шаге номер участника, количество его денег, количество акций, ко- личество проданных акций, количество купленных акций, цена закрытия на рынке и количество акций на рынке.
Для этого создается файле prot.txt, в котором данные имеют следующий вид

<img width="686" alt="Снимок экрана 2023-12-21 в 03 13 18" src="https://github.com/charonxnikon/MODELING_STOCHASTIC_MARKETS/assets/73964925/a39484ed-2578-4c5c-a797-1d83e845b6f5">


Реализован подход без использования конкретных файлов из finam, модель взята из статьи 2023 года, журнал Financial Statistical Journal:  

Model of stochastic auctions using level market index
Nikonov Maksim, Shishkin Alexei, Konev Dmitry, Dolmatov Aleksandr
https://systems.enpress-publisher.com/index.php/FSJ/article/view/2931

Запуск: gcc ... 

Пример: 
```bash
gcc −Wall −g server_2 . c −o server_1 testing . txt 
./ server_1 2000 2
```
(Подключение двух пользователей к 2000 порту)
```bash
gcc −Wall −g server_vfinal_2 . c −o server_2 
./ server_2 3000 4
```
в случе без реальных данных

Подключение производится с помощью утилиты telnet 

# Интерпретатор на С++

Стартовыми параметрами программмы- интерпретатора являются ip-адрес и номер TSP-порта сервера, а также имя файла, содержащего программу на модельном языке. Сценарий определяет дальнейшее поведение бота. Таким образом программа-бот представляет собой комбинацию программы-клиента и программы-интерпретатора модельного языка.

Программа принимает на вход файл с программой на языке программирования AuctoScript, язык является алгоритмически полным
В языке присутствуют следующие операторы: присваивания, безусловного перехода, условный оператор, оператор аукционных действий, оператор отладочной печати
Результатом работы анализатора должно стать внутреннее представление сценария, удобное для дальнейшей интерпретации ПОЛИЗ

Не работает отдельно от сервера, по сути программа-интерпретатор это скрипт поведения игрока на сервере: порт должен быть одинаковый 

<img width="691" alt="Снимок экрана 2023-12-21 в 03 12 10" src="https://github.com/charonxnikon/MODELING_STOCHASTIC_MARKETS/assets/73964925/08a046c3-d7e8-446b-acf8-f0f2eca8a81c">

Примеры программ находятся в директории: intelligente и ahmoq 

Запуск: g++ ... 

Пример:
```bash
g++ −Wall −g interpreter .cpp −o inter
./ inter 0 2000 stupido
```

# Интерактивная часть на Python

Для интерактивной части использовался tkinter, необходимо запустить .ipynb файл (использует выход серверной части) и все файоы формата .py 

Запуск: 
```bash
python3 <filename.py>
```
Для ipynb файла необходимо имет среду IDE


<img width="613" alt="Снимок экрана 2023-12-21 в 03 41 53" src="https://github.com/charonxnikon/MODELING_STOCHASTIC_MARKETS/assets/73964925/2f7d7ccf-0a4d-44ac-9f3c-4f0d208a5335">



Демонстрация по запуску (2 года назад, но поможет запустить, если не было понятно) приведена по ссылке: https://www.youtube.com/watch?v=gDnHVCa7J-U

## Апробация

* XXIX Всероссийских юношеских чтениях им. В. И. Вернадского
* XVII Всероссийский Фестиваль NAUKA 0+ (стенд ВМК)
* III Международная летняя школа по финансовой математике (Math питч Vega Institute)
* XVIII Всероссийский Фестиваль NAUKA 0+ (стенд ВМК)
* Никонов М.В. Моделирование стохастических аукционных рынков. ООО «Научно-исследовательский центр экономических и социальных процессов»
* Никонов М.В. Разработка математической модели финансовых рынков на основе Гауссовского случайного блуждания. Молодой ученый
* Никонов М.В. ЛИНЕАРИЗОВАННЫЙ ФИЛЬТР КАЛМАНА В ЗАДАЧАХ ПРОГНОЗА И КОРРЕКЦИИ ЦЕН НА ФИНАНСОВЫХ БИРЖАХ. Вестник науки.
* Никонов М.В., Шмитов М.О. Современные методы распределенного интеллектуального анализа данных на собственной модели стохастических финансовых рынков
* I место в III Международном научно-исследовательском конкурсе «ЛУЧШАЯ НАУЧНО-ИССЛЕДОВАТЕЛЬСКАЯ РАБОТА»

 
 
